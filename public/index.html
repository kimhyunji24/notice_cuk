<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CUK κ³µμ§€μ‚¬ν•­ μ•λ¦¬λ―Έ</title>
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="favicon.ico">
    <meta name="theme-color" content="#2563eb">
    <meta name="description" content="κ°€ν†¨λ¦­λ€ν•™κµ ν•™κ³Ό κ³µμ§€μ‚¬ν•­μ„ μ‹¤μ‹κ°„μΌλ΅ λ°›μ•„λ³΄μ„Έμ”">
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="header-content">
                <h1 class="title">
                    <span class="title-icon">π””</span>
                    CUK κ³µμ§€μ‚¬ν•­ μ•λ¦¬λ―Έ
                </h1>
                <p class="subtitle">κ°€ν†¨λ¦­λ€ν•™κµ ν•™κ³Ό κ³µμ§€μ‚¬ν•­μ„ μ‹¤μ‹κ°„μΌλ΅ λ°›μ•„λ³΄μ„Έμ”</p>
            </div>
        </header>

        <main class="main">
            <!-- μ•λ¦Ό κ¶ν• μƒνƒ -->
            <div id="permission-card" class="card hidden">
                <div class="card-header">
                    <h2>π” μ•λ¦Ό κ¶ν• ν•„μ”</h2>
                </div>
                <div class="card-content">
                    <p>κ³µμ§€μ‚¬ν•­ μ•λ¦Όμ„ λ°›μΌλ ¤λ©΄ λΈλΌμ°μ € μ•λ¦Ό κ¶ν•μ΄ ν•„μ”ν•©λ‹λ‹¤.</p>
                    <button id="enable-notifications" class="btn btn-primary">
                        μ•λ¦Ό κ¶ν• ν—μ©ν•κΈ°
                    </button>
                </div>
            </div>

            <!-- κµ¬λ… μ„¤μ • -->
            <div id="subscription-card" class="card">
                <div class="card-header">
                    <h2>π“ κµ¬λ…ν•  ν•™κ³Ό μ„ νƒ</h2>
                </div>
                <div class="card-content">
                    <div id="loading-state" class="loading">
                        <div class="spinner"></div>
                        <p>ν•™κ³Ό λ©λ΅μ„ λ¶λ¬μ¤λ” μ¤‘...</p>
                    </div>

                    <div id="subscription-form" class="hidden">
                        <div class="search-container">
                            <input type="text" id="search-input" class="search-input" 
                                   placeholder="ν•™κ³Όλ…μ„ κ²€μƒ‰ν•μ„Έμ” (μ: μ»΄ν“¨ν„°, μμ–΄, κ²½μ)">
                        </div>

                        <div class="filter-tabs">
                            <button class="filter-tab active" data-category="all">μ „μ²΄</button>
                            <button class="filter-tab" data-category="κ³µν•™κ³„μ—΄">κ³µν•™</button>
                            <button class="filter-tab" data-category="μΈλ¬Έκ³„μ—΄">μΈλ¬Έ</button>
                            <button class="filter-tab" data-category="κ²½μκ³„μ—΄">κ²½μ</button>
                            <button class="filter-tab" data-category="μμ—°κ³„μ—΄">μμ—°</button>
                        </div>

                        <div class="select-actions">
                            <button id="select-all" class="btn btn-secondary">μ „μ²΄ μ„ νƒ</button>
                            <button id="clear-all" class="btn btn-secondary">μ „μ²΄ ν•΄μ </button>
                            <span id="selected-count" class="selected-count">μ„ νƒλ¨: 0κ°</span>
                        </div>

                        <div id="sites-container" class="sites-grid">
                            <!-- λ™μ μΌλ΅ μƒμ„±λ¨ -->
                        </div>

                        <div class="form-actions">
                            <button id="save-subscription" class="btn btn-primary" disabled>
                                <span class="btn-text">κµ¬λ… μ„¤μ • μ €μ¥</span>
                                <div class="btn-loading hidden">
                                    <div class="spinner-small"></div>
                                </div>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- μƒνƒ λ©”μ‹μ§€ -->
            <div id="message-area" class="message-area hidden">
                <!-- λ™μ μΌλ΅ λ©”μ‹μ§€κ°€ ν‘μ‹λ¨ -->
            </div>
        </main>

        <footer class="footer">
            <div class="footer-content">
                <div class="footer-links">
                    <a href="status-enhanced.html" class="footer-link">ν¬λ΅¤λ§ μƒνƒ ν™•μΈ</a>
                    <a href="#" id="test-notification" class="footer-link">μ•λ¦Ό ν…μ¤νΈ</a>
                </div>
                <p class="footer-text">
                    Β© 2024 CUK κ³µμ§€μ‚¬ν•­ μ•λ¦¬λ―Έ | 
                    <a href="https://www.catholic.ac.kr" target="_blank" rel="noopener">κ°€ν†¨λ¦­λ€ν•™κµ</a>
                </p>
            </div>
        </footer>
    </div>

    <!-- Firebase SDK v8 (νΈν™μ„±μ„ μ„ν•΄) -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-messaging.js"></script>
    
    <!-- ν™κ²½ μ„¤μ • -->
    <script src="config.js"></script>
    
    <!-- λ©”μΈ μ¤ν¬λ¦½νΈ -->
    <script src="script.js"></script>
</body>
</html>